# 大学生心理健康管理系统

### 一、系统功能

##### 1、用户端

1）登录注册

2）试卷中心（用户可进入答题）

3）答题记录（用户可查看答题记录）

4）个人中心（用户可在此处查找并修改个人信息）

##### 2、管理员端

1）用户管理（新增或删除用户）

2）试卷管理（新增或删除试卷）

3）答卷管理（可查看用户的答卷）

### 二、功能实现

##### 2.1数据库设计

###### 2.1.1 USER数据库设计

用户表

```sql
CREATE TABLE `user` (
  `uId` INT AUTO_INCREMENT COMMENT '用户id，主键自增',
  `username` VARCHAR(50) NOT NULL COMMENT '账号',
  `password` VARCHAR(50) NOT NULL COMMENT '登录密码',
  `email` VARCHAR(50) COMMENT '邮箱',
  `phone` VARCHAR(20) COMMENT '电话',
  `sex` VARCHAR(10) COMMENT '性别',
  `rId` INT COMMENT '角色id',
  `creatTime` DATETIME COMMENT '用户创建时间',
  `profileSrc` VARCHAR(255) COMMENT '头像地址',
  PRIMARY KEY (`uId`),
  UNIQUE KEY `idx_username` (`username`)
) ENGINE = INNODB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci COMMENT = '用户表';
```

###### 2.1.2 Role数据库设计

角色表

```sql
CREATE TABLE `role` (
    -- 角色id，整数类型，主键且自增
    `r_id` INT AUTO_INCREMENT PRIMARY KEY COMMENT '角色id',
    -- 角色名称，字符串类型，长度255
    `r_name` VARCHAR(255) COMMENT '角色名称',
    -- 角色代码，字符串类型，长度255
    `r_code` VARCHAR(255) COMMENT '角色代码'
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci;
```

###### 2.1.3 试卷表数据库设计

分为三个数据表

试卷表，存储试卷的主要信息

```sql
CREATE TABLE `exam_paper` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '试卷ID',
  `title` varchar(255) NOT NULL COMMENT '试卷标题',
  `total_score` decimal(5,2) NOT NULL DEFAULT '100.00' COMMENT '总分',
  `pass_score` decimal(5,2) NOT NULL DEFAULT '60.00' COMMENT '及格分数',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  PRIMARY KEY (`id`),
  KEY `idx_title` (`title`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='试卷主表';
```

试卷题目关联表

```sql
CREATE TABLE `exam_paper_question` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `paper_id` bigint NOT NULL COMMENT '试卷ID',
  `question_id` bigint NOT NULL COMMENT '题目ID',
  `question_type` tinyint NOT NULL COMMENT '题目类型(1: 单选题, 2: 多选题, 3: 判断题, 4: 填空题, 5: 简答题)',
  `score` decimal(5,2) NOT NULL COMMENT '题目分值',
  `sort` int NOT NULL DEFAULT '0' COMMENT '题目排序',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_paper_question` (`paper_id`,`question_id`),
  KEY `idx_paper_id` (`paper_id`),
  KEY `idx_question_id` (`question_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='试卷题目关联表';
```

题目表

```sql
CREATE TABLE `question` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '题目ID',
  `type` tinyint NOT NULL COMMENT '题目类型(1: 单选题, 2: 多选题, 3: 判断题, 4: 填空题, 5: 简答题)',
  `content` text NOT NULL COMMENT '题目内容',
  `options` json DEFAULT NULL COMMENT '选项列表(选择题)',
  `answer` text NOT NULL COMMENT '答案',
  `explanation` text COMMENT '答案解析',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  PRIMARY KEY (`id`),
  KEY `idx_type` (`type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='题目表';
```

###### 2.1.4 答卷表数据库设计

答卷表

```sql
CREATE TABLE `exam_record` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '记录ID',
  `user_id` bigint NOT NULL COMMENT '用户ID',
  `paper_id` bigint NOT NULL COMMENT '试卷ID',
  `start_time` datetime NOT NULL COMMENT '开始时间',
  `submit_time` datetime DEFAULT NULL COMMENT '提交时间',
  `duration` int DEFAULT NULL COMMENT '用时(分钟)',
  `score` decimal(5,2) DEFAULT NULL COMMENT '得分',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  PRIMARY KEY (`id`),
  KEY `idx_user_id` (`user_id`),
  KEY `idx_paper_id` (`paper_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='答卷表';
```

答卷记录表

```sql
CREATE TABLE `exam_record_question` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `record_id` bigint NOT NULL COMMENT '答卷记录ID',
  `question_id` bigint NOT NULL COMMENT '题目ID',
  `user_answer` text COMMENT '用户答案',
  `is_correct` tinyint NOT NULL DEFAULT '0' COMMENT '是否正确(0: 错误, 1: 正确)',
  `score` decimal(5,2) DEFAULT '0.00' COMMENT '得分',
  PRIMARY KEY (`id`),
  KEY `idx_record_id` (`record_id`),
  KEY `idx_question_id` (`question_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='答卷题目记录表';
```

##### 2.2 登录注册功能



























